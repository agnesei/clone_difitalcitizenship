<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="625px" preserveAspectRatio="none" style="width:1142px;height:625px;" version="1.1" viewBox="0 0 1142 625" width="1142px" zoomAndPan="magnify"><defs/><g><!--cluster Ente Erogatore--><rect fill="#FFFFFF" height="99" style="stroke: #000000; stroke-width: 1.5;" width="134" x="374" y="16.5"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="390" y="37.2803">Ente Erogatore</text><!--cluster Cittadinanza Digitale--><rect fill="#FFFFFF" height="408.5" style="stroke: #000000; stroke-width: 1.5;" width="497" x="14" y="205.5"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="191.5" y="226.2803">Cittadinanza Digitale</text><!--cluster Servizio email\ntransazionale\n--><path d="M676,184.5 C676,181.5 678,179.5 681,179.5 C684,179.5 686,181.5 686,184.5 C686,181.5 688,179.5 691,179.5 C694,179.5 696,181.5 696,184.5 C696,181.5 698,179.5 701,179.5 C704,179.5 706,181.5 706,184.5 C706,181.5 708,179.5 711,179.5 C714,179.5 716,181.5 716,184.5 C716,181.5 718,179.5 721,179.5 C724,179.5 726,181.5 726,184.5 C726,181.5 728,179.5 731,179.5 C734,179.5 736,181.5 736,184.5 C736,181.5 738,179.5 741,179.5 C744,179.5 746,181.5 746,184.5 C746,181.5 748,179.5 751,179.5 C754,179.5 756,181.5 756,184.5 C756,181.5 758,179.5 761,179.5 C764,179.5 766,181.5 766,184.5 C766,181.5 768,179.5 771,179.5 C774,179.5 776,181.5 776,184.5 C776,181.5 778,179.5 781,179.5 C784,179.5 786,181.5 786,184.5 C786,181.5 788,179.5 791,179.5 C794,179.5 796,181.5 796,184.5 C799,184.5 801,186.5 801,189.5 C801,192.5 799,194.5 796,194.5 C799,194.5 801,196.5 801,199.5 C801,202.5 799,204.5 796,204.5 C799,204.5 801,206.5 801,209.5 C801,212.5 799,214.5 796,214.5 C799,214.5 801,216.5 801,219.5 C801,222.5 799,224.5 796,224.5 C799,224.5 801,226.5 801,229.5 C801,232.5 799,234.5 796,234.5 C799,234.5 801,236.5 801,239.5 C801,242.5 799,244.5 796,244.5 C799,244.5 801,246.5 801,249.5 C801,252.5 799,254.5 796,254.5 C799,254.5 801,256.5 801,259.5 C801,262.5 799,264.5 796,264.5 C799,264.5 801,266.5 801,269.5 C801,272.5 799,274.5 796,274.5 C799,274.5 801,276.5 801,279.5 C801,282.5 799,284.5 796,284.5 C799,284.5 801,286.5 801,289.5 C801,292.5 799,294.5 796,294.5 C796,297.5 793,299.5 791,299.5 C788,299.5 786,297.5 786,294.5 C786,297.5 783,299.5 781,299.5 C778,299.5 776,297.5 776,294.5 C776,297.5 773,299.5 771,299.5 C768,299.5 766,297.5 766,294.5 C766,297.5 763,299.5 761,299.5 C758,299.5 756,297.5 756,294.5 C756,297.5 753,299.5 751,299.5 C748,299.5 746,297.5 746,294.5 C746,297.5 743,299.5 741,299.5 C738,299.5 736,297.5 736,294.5 C736,297.5 733,299.5 731,299.5 C728,299.5 726,297.5 726,294.5 C726,297.5 723,299.5 721,299.5 C718,299.5 716,297.5 716,294.5 C716,297.5 713,299.5 711,299.5 C708,299.5 706,297.5 706,294.5 C706,297.5 703,299.5 701,299.5 C698,299.5 696,297.5 696,294.5 C696,297.5 693,299.5 691,299.5 C688,299.5 686,297.5 686,294.5 C686,297.5 683,299.5 681,299.5 C678,299.5 676,297.5 676,294.5 C673,294.5 671,292.5 671,289.5 C671,286.5 673,284.5 676,284.5 C673,284.5 671,282.5 671,279.5 C671,276.5 673,274.5 676,274.5 C673,274.5 671,272.5 671,269.5 C671,266.5 673,264.5 676,264.5 C673,264.5 671,262.5 671,259.5 C671,256.5 673,254.5 676,254.5 C673,254.5 671,252.5 671,249.5 C671,246.5 673,244.5 676,244.5 C673,244.5 671,242.5 671,239.5 C671,236.5 673,234.5 676,234.5 C673,234.5 671,232.5 671,229.5 C671,226.5 673,224.5 676,224.5 C673,224.5 671,222.5 671,219.5 C671,216.5 673,214.5 676,214.5 C673,214.5 671,212.5 671,209.5 C671,206.5 673,204.5 676,204.5 C673,204.5 671,202.5 671,199.5 C671,196.5 673,194.5 676,194.5 C673,194.5 671,192.5 671,189.5 C671,186.5 673,184.5 676,184.5 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="689" y="209.2803">Servizio email</text><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92" x="690" y="223.2803">transazionale</text><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="738" y="237.2803"/><!--cluster Fornitore email\n--><path d="M964,194 C964,191 966,189 969,189 C972,189 974,191 974,194 C974,191 976,189 979,189 C982,189 984,191 984,194 C984,191 986,189 989,189 C992,189 994,191 994,194 C994,191 996,189 999,189 C1002,189 1004,191 1004,194 C1004,191 1006,189 1009,189 C1012,189 1014,191 1014,194 C1014,191 1016,189 1019,189 C1022,189 1024,191 1024,194 C1024,191 1026,189 1029,189 C1032,189 1034,191 1034,194 C1034,191 1036,189 1039,189 C1042,189 1044,191 1044,194 C1044,191 1046,189 1049,189 C1052,189 1054,191 1054,194 C1054,191 1056,189 1059,189 C1062,189 1064,191 1064,194 C1064,191 1066,189 1069,189 C1072,189 1074,191 1074,194 C1074,191 1076,189 1079,189 C1082,189 1084,191 1084,194 C1084,191 1086,189 1089,189 C1092,189 1094,191 1094,194 C1097,194 1099,196 1099,199 C1099,202 1097,204 1094,204 C1097,204 1099,206 1099,209 C1099,212 1097,214 1094,214 C1097,214 1099,216 1099,219 C1099,222 1097,224 1094,224 C1097,224 1099,226 1099,229 C1099,232 1097,234 1094,234 C1097,234 1099,236 1099,239 C1099,242 1097,244 1094,244 C1097,244 1099,246 1099,249 C1099,252 1097,254 1094,254 C1097,254 1099,256 1099,259 C1099,262 1097,264 1094,264 C1097,264 1099,266 1099,269 C1099,272 1097,274 1094,274 C1097,274 1099,276 1099,279 C1099,282 1097,284 1094,284 C1097,284 1099,286 1099,289 C1099,292 1097,294 1094,294 C1097,294 1099,296 1099,299 C1099,302 1097,304 1094,304 C1094,307 1091,309 1089,309 C1086,309 1084,307 1084,304 C1084,307 1081,309 1079,309 C1076,309 1074,307 1074,304 C1074,307 1071,309 1069,309 C1066,309 1064,307 1064,304 C1064,307 1061,309 1059,309 C1056,309 1054,307 1054,304 C1054,307 1051,309 1049,309 C1046,309 1044,307 1044,304 C1044,307 1041,309 1039,309 C1036,309 1034,307 1034,304 C1034,307 1031,309 1029,309 C1026,309 1024,307 1024,304 C1024,307 1021,309 1019,309 C1016,309 1014,307 1014,304 C1014,307 1011,309 1009,309 C1006,309 1004,307 1004,304 C1004,307 1001,309 999,309 C996,309 994,307 994,304 C994,307 991,309 989,309 C986,309 984,307 984,304 C984,307 981,309 979,309 C976,309 974,307 974,304 C974,307 971,309 969,309 C966,309 964,307 964,304 C961,304 959,302 959,299 C959,296 961,294 964,294 C961,294 959,292 959,289 C959,286 961,284 964,284 C961,284 959,282 959,279 C959,276 961,274 964,274 C961,274 959,272 959,269 C959,266 961,264 964,264 C961,264 959,262 959,259 C959,256 961,254 964,254 C961,254 959,252 959,249 C959,246 961,244 964,244 C961,244 959,242 959,239 C959,236 961,234 964,234 C961,234 959,232 959,229 C959,226 961,224 964,224 C961,224 959,222 959,219 C959,216 961,214 964,214 C961,214 959,212 959,209 C959,206 961,204 964,204 C961,204 959,202 959,199 C959,196 961,194 964,194 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103" x="978.5" y="218.7803">Fornitore email</text><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="1032" y="232.7803"/><!--entity ente--><rect fill="#FEFECE" height="50" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="398" y="57.5"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="416" y="86.2803">Servizio</text><!--entity apimessaggi--><rect fill="#FEFECE" height="50" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="379.5" y="246.5"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="397.5" y="275.2803">API Messaggi</text><!--entity apipreferenze--><rect fill="#FEFECE" height="50" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="22" y="246.5"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="40" y="275.2803">API Preferenze</text><!--entity dbpreferenze--><path d="M35,557 C35,547 88,547 88,547 C88,547 141,547 141,557 L141,596 C141,606 88,606 88,606 C88,606 35,606 35,596 L35,557 " fill="#FEFECE" style="stroke: #000000; stroke-width: 1.5;"/><path d="M35,557 C35,567 88,567 88,567 C88,567 141,567 141,557 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="53" y="589.7803">Preferenze</text><!--entity txemail--><rect fill="#FEFECE" height="50" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="688" y="246.5"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="706" y="275.2803">API email</text><!--entity emailprovider--><path d="M969.5,252 C969.5,242 1030,242 1030,242 C1030,242 1090.5,242 1090.5,252 L1090.5,291 C1090.5,301 1030,301 1030,301 C1030,301 969.5,301 969.5,291 L969.5,252 " fill="#FEFECE" style="stroke: #000000; stroke-width: 1.5;"/><path d="M969.5,252 C969.5,262 1030,262 1030,262 C1030,262 1090.5,262 1090.5,252 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="987.5" y="284.7803">Casella email</text><!--entity cittadino--><ellipse cx="1030" cy="403" fill="#FEFECE" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1030,411 L1030,438 M1017,419 L1043,419 M1030,438 L1017,453 M1030,438 L1043,453 " fill="#FEFECE" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="1002" y="474.7803">Cittadino</text><!--link ente to apimessaggi--><path d="M441,107.5977 C441,142.0521 441,203.9384 441,241.0145 " fill="none" id="ente-apimessaggi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="441,246.2985,445,237.2985,441,241.2985,437,237.2985,441,246.2985" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="450" y="157.2803">(1) CF, messaggio</text><!--link apipreferenze to dbpreferenze--><path d="M88,301.834 C88,360.4704 88,488.7008 88,546.8175 " fill="none" id="apipreferenze-dbpreferenze" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="88,296.7189,84,305.7189,88,301.7189,92,305.7189,88,296.7189" style="stroke: #A80036; stroke-width: 1.0;"/><!--link apipreferenze to apimessaggi--><path d="M154.3966,271.5 C217.2386,271.5 311.0856,271.5 374.0944,271.5 " fill="none" id="apipreferenze-apimessaggi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="379.3339,271.5,370.3339,267.5,374.3339,271.5,370.3339,275.5,379.3339,271.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="180.25" y="256.2803">(2) email, casella messaggi</text><!--link apimessaggi to txemail--><path d="M502.8417,271.5 C556.0913,271.5 632.1344,271.5 682.7305,271.5 " fill="none" id="apimessaggi-txemail" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="687.8514,271.5,678.8514,267.5,682.8514,271.5,678.8514,275.5,687.8514,271.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="528.75" y="294.2803">(3) email, messaggio</text><!--link txemail to emailprovider--><path d="M784.2189,271.5 C833.22,271.5 909.4765,271.5 964.051,271.5 " fill="none" id="txemail-emailprovider" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="969.2631,271.5,960.2631,267.5,964.2631,271.5,960.2631,275.5,969.2631,271.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="810.25" y="256.2803">(4) email, messaggio</text><!--link emailprovider to cittadino--><path d="M1030,301.1483 C1030,325.0029 1030,359.1059 1030,387.4838 " fill="none" id="emailprovider-cittadino" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1030,392.7122,1034,383.7122,1030,387.7122,1026,383.7122,1030,392.7122" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="1039" y="350.7803">(5) messaggio</text><!--
@startuml
skinparamlocked shadowing false
skinparamlocked DefaultFontName Helvetica
skinparamlocked DefaultFontSize 14
skinparamlocked Padding 8

:Cittadino: as cittadino

rectangle "Ente Erogatore" {
  agent "Servizio" as ente
}

rectangle "Cittadinanza Digitale" {
  agent "API Messaggi" as apimessaggi
  agent "API Preferenze" as apipreferenze
  database "Preferenze" as dbpreferenze
}

cloud "Servizio email\ntransazionale\n" {
  agent "API email" as txemail
}

cloud "Fornitore email\n" {
  database "Casella email" as emailprovider
}

ente - -> apimessaggi : (1) CF, messaggio

dbpreferenze -up-> apipreferenze
apipreferenze -> apimessaggi : (2) email, casella messaggi

apimessaggi -right-> txemail : (3) email, messaggio

txemail -> emailprovider : (4) email, messaggio

emailprovider - -> cittadino : (5) messaggio

@enduml

PlantUML version 1.2018.00(Thu Jan 04 20:42:56 CET 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_66-b17
Operating System: Mac OS X
OS Version: 10.13.4
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>