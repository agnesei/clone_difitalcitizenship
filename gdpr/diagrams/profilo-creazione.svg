<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="364px" preserveAspectRatio="none" style="width:794px;height:364px;" version="1.1" viewBox="0 0 794 364" width="794px" zoomAndPan="magnify"><defs><filter height="300%" id="fsm1kgtl5nqa0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster Cittadinanza Digitale--><rect fill="#FFFFFF" filter="url(#fsm1kgtl5nqa0)" height="337" style="stroke: #000000; stroke-width: 1.5;" width="345" x="438.5" y="16"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153" x="534.5" y="31.5352">Cittadinanza Digitale</text><!--entity backend--><rect fill="#FEFECE" filter="url(#fsm1kgtl5nqa0)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="456" y="43"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="466" y="66.5352">Backend CD</text><!--entity apipreferenze--><rect fill="#FEFECE" filter="url(#fsm1kgtl5nqa0)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="446.5" y="304.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="456.5" y="328.0352">API Preferenze</text><!--entity dbpreferenze--><path d="M681.5,310 C681.5,300 728.5,300 728.5,300 C728.5,300 775.5,300 775.5,310 L775.5,335.4883 C775.5,345.4883 728.5,345.4883 728.5,345.4883 C728.5,345.4883 681.5,345.4883 681.5,335.4883 L681.5,310 " fill="#FEFECE" filter="url(#fsm1kgtl5nqa0)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M681.5,310 C681.5,320 728.5,320 728.5,320 C728.5,320 775.5,320 775.5,310 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="691.5" y="337.5352">Preferenze</text><!--entity cittadino--><ellipse cx="37.5" cy="166" fill="#FEFECE" filter="url(#fsm1kgtl5nqa0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M37.5,174 L37.5,201 M24.5,182 L50.5,182 M37.5,201 L24.5,216 M37.5,201 L50.5,216 " fill="#FEFECE" filter="url(#fsm1kgtl5nqa0)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="6" y="236.5352">Cittadino</text><!--entity idp--><rect fill="#FEFECE" filter="url(#fsm1kgtl5nqa0)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="157" y="43"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="167" y="66.5352">IdP SPID</text><!--entity app--><rect fill="#FEFECE" filter="url(#fsm1kgtl5nqa0)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="216.5" y="179.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="226.5" y="203.0352">App CD</text><!--link cittadino to app--><path d="M69.224,197.5 C106.8618,197.5 169.7146,197.5 211.1382,197.5 " fill="none" id="cittadino-app" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="216.332,197.5,207.332,193.5,211.332,197.5,207.332,201.5,216.332,197.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="87.25" y="191.0684">(1) primo accesso</text><!--link idp to app--><path d="M204.2437,83.9312 C215.6494,110.7741 234.3062,154.6819 244.7662,179.2989 " fill="none" id="idp-app" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="202.202,79.1261,202.0403,88.9736,204.1574,83.7279,209.4031,85.845,202.202,79.1261" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="223.5" y="122.5684">(2) autenticazione SPID</text><!--link idp to cittadino--><path d="M151.9089,71.8691 C129.4392,79.3315 102.6414,91.175 83.5,109 C69.8139,121.7449 59.4884,139.4874 52.1239,155.7424 " fill="none" id="idp-cittadino" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="156.9276,70.2504,147.1342,69.2063,152.169,71.7853,149.59,76.82,156.9276,70.2504" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="84.5" y="122.5684">(2) email, password</text><!--link idp to backend--><path d="M232.1345,61 C286.5215,61 387.4723,61 450.5886,61 " fill="none" id="idp-backend" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="455.8201,61,446.8201,57,450.8201,61,446.8201,65,455.8201,61" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="250.5" y="54.5684">(3) CF, nome, cognome, email</text><!--link backend to apipreferenze--><path d="M506.5,79.3882 C506.5,125.92 506.5,248.2718 506.5,299.4628 " fill="none" id="backend-apipreferenze" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="506.5,304.4793,510.5,295.4793,506.5,299.4793,502.5,295.4793,506.5,304.4793" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="507.5" y="202.5684">(4) CF, email</text><!--link apipreferenze to dbpreferenze--><path d="M566.5764,322.5 C600.8274,322.5 643.3374,322.5 676.2055,322.5 " fill="none" id="apipreferenze-dbpreferenze" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="681.3951,322.5,672.3951,318.5,676.3951,322.5,672.3951,326.5,681.3951,322.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="585" y="316.0684">(4) CF, email</text><!--
@startuml

:Cittadino: as cittadino

agent "IdP SPID" as idp

agent "App CD" as app

rectangle "Cittadinanza Digitale" {
  agent "Backend CD" as backend

  agent "API Preferenze" as apipreferenze

  database "Preferenze" as dbpreferenze
}


cittadino -> app : (1) primo accesso

app .up.> idp : (2) autenticazione SPID

cittadino -up-> idp : (2) email, password

idp -> backend : (3) CF, nome, cognome, email

backend -down-> apipreferenze : (4) CF, email

apipreferenze -right-> dbpreferenze : (4) CF, email

@enduml

PlantUML version 1.2018.00(Thu Jan 04 20:42:56 CET 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_66-b17
Operating System: Mac OS X
OS Version: 10.13.4
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>