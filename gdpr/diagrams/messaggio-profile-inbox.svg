<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="482px" preserveAspectRatio="none" style="width:903px;height:482px;" version="1.1" viewBox="0 0 903 482" width="903px" zoomAndPan="magnify"><defs><filter height="300%" id="f1d3kwn4lgffto" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster Ente Erogatore--><rect fill="#FFFFFF" filter="url(#f1d3kwn4lgffto)" height="71" style="stroke: #000000; stroke-width: 1.5;" width="121" x="343" y="16"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="105" x="351" y="31.5352">Ente Erogatore</text><!--cluster Cittadinanza Digitale--><rect fill="#FFFFFF" filter="url(#f1d3kwn4lgffto)" height="337" style="stroke: #000000; stroke-width: 1.5;" width="688" x="14" y="134"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153" x="281.5" y="149.5352">Cittadinanza Digitale</text><!--entity ente--><rect fill="#FEFECE" filter="url(#f1d3kwn4lgffto)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="366" y="43"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="376" y="66.5352">Servizio</text><!--entity apimessaggi--><rect fill="#FEFECE" filter="url(#f1d3kwn4lgffto)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="348" y="161"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="358" y="184.5352">API Messaggi</text><!--entity dbmessaggi--><path d="M361,428 C361,418 403,418 403,418 C403,418 445,418 445,428 L445,453.4883 C445,463.4883 403,463.4883 403,463.4883 C403,463.4883 361,463.4883 361,453.4883 L361,428 " fill="#FEFECE" filter="url(#f1d3kwn4lgffto)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M361,428 C361,438 403,438 403,438 C403,438 445,438 445,428 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="371" y="455.5352">Messaggi</text><!--entity apipreferenze--><rect fill="#FEFECE" filter="url(#f1d3kwn4lgffto)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="22" y="161"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="32" y="184.5352">API Preferenze</text><!--entity dbpreferenze--><path d="M35,428 C35,418 82,418 82,418 C82,418 129,418 129,428 L129,453.4883 C129,463.4883 82,463.4883 82,463.4883 C82,463.4883 35,463.4883 35,453.4883 L35,428 " fill="#FEFECE" filter="url(#f1d3kwn4lgffto)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M35,428 C35,438 82,438 82,438 C82,438 129,438 129,428 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="45" y="455.5352">Preferenze</text><!--entity backend--><rect fill="#FEFECE" filter="url(#f1d3kwn4lgffto)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="586.5" y="161"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="596.5" y="184.5352">Backend APP</text><!--entity cittadino--><ellipse cx="857" cy="284" fill="#FEFECE" filter="url(#f1d3kwn4lgffto)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M857,292 L857,319 M844,300 L870,300 M857,319 L844,334 M857,319 L870,334 " fill="#FEFECE" filter="url(#f1d3kwn4lgffto)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="825.5" y="354.5352">Cittadino</text><!--entity app--><rect fill="#FEFECE" filter="url(#f1d3kwn4lgffto)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="822" y="161"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="832" y="184.5352">APP CD</text><!--link ente to apimessaggi--><path d="M403,79.1789 C403,99.7674 403,133.3637 403,155.8204 " fill="none" id="ente-apimessaggi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="403,160.9941,407,151.9941,403,155.9941,399,151.9941,403,160.9941" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="404" y="122.5684">(1) CF, messaggio</text><!--link apipreferenze to dbpreferenze--><path d="M82,202.5807 C82,252.547 82,368.5219 82,417.7484 " fill="none" id="apipreferenze-dbpreferenze" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="82,197.3882,78,206.3882,82,202.3882,86,206.3882,82,197.3882" style="stroke: #A80036; stroke-width: 1.0;"/><!--link apipreferenze to apimessaggi--><path d="M142.0011,179 C199.3368,179 285.3039,179 342.7292,179 " fill="none" id="apipreferenze-apimessaggi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="347.8492,179,338.8492,175,342.8492,179,338.8492,183,347.8492,179" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="160.5" y="172.5684">(2) email, casella messaggi</text><!--link apimessaggi to dbmessaggi--><path d="M403,197.3882 C403,242.4589 403,358.6626 403,412.4346 " fill="none" id="apimessaggi-dbmessaggi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="403,417.7484,407,408.7484,403,412.7484,399,408.7484,403,417.7484" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="404" y="313.0684">(3) messaggio,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="423.5" y="328.3789">mittente</text><!--link app to backend--><path d="M816.5031,179 C781.8337,179 731.6443,179 693.6405,179 " fill="none" id="app-backend" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="821.9299,179,812.9299,175,816.9299,179,812.9299,183,821.9299,179" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="711.75" y="157.5684">(4) messaggio,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="731.25" y="172.8789">mittente</text><!--link apimessaggi to backend--><path d="M458.2669,179 C495.0309,179 543.2786,179 580.8213,179 " fill="none" id="apimessaggi-backend" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="586.28,179,577.28,175,581.28,179,577.28,183,586.28,179" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="476.25" y="157.5684">(5) messaggio,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="495.75" y="172.8789">mittente</text><!--link app to cittadino--><path d="M857,197.1261 C857,215.2711 857,243.9504 857,268.5351 " fill="none" id="app-cittadino" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="857,273.7138,861,264.7138,857,268.7138,853,264.7138,857,273.7138" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="858" y="240.5684">(6)</text><!--
@startuml

:Cittadino: as cittadino

agent "APP CD" as app

rectangle "Ente Erogatore" {
  agent "Servizio" as ente
}

rectangle "Cittadinanza Digitale" {
  agent "API Messaggi" as apimessaggi
  database "Messaggi" as dbmessaggi
  agent "API Preferenze" as apipreferenze
  database "Preferenze" as dbpreferenze
  agent "Backend APP" as backend
}

ente -down-> apimessaggi : (1) CF, messaggio

dbpreferenze -up-> apipreferenze
apipreferenze -> apimessaggi : (2) email, casella messaggi

apimessaggi -down-> dbmessaggi : (3) messaggio,\nmittente

app <- backend : "(4) messaggio,\nmittente"

apimessaggi -right-> backend : "(5) messaggio,\nmittente"

app -down-> cittadino : "(6)"

@enduml

PlantUML version 1.2018.00(Thu Jan 04 20:42:56 CET 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_66-b17
Operating System: Mac OS X
OS Version: 10.13.4
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>