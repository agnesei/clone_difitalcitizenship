<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="592px" preserveAspectRatio="none" style="width:1017px;height:592px;" version="1.1" viewBox="0 0 1017 592" width="1017px" zoomAndPan="magnify"><defs/><g><!--cluster Ente Erogatore--><rect fill="#FFFFFF" height="99" style="stroke: #000000; stroke-width: 1.5;" width="134" x="374" y="16"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="390" y="36.7803">Ente Erogatore</text><!--cluster Cittadinanza Digitale--><rect fill="#FFFFFF" height="404" style="stroke: #000000; stroke-width: 1.5;" width="766" x="14" y="177"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="326" y="197.7803">Cittadinanza Digitale</text><!--entity ente--><rect fill="#FEFECE" height="50" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="398" y="57"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="416" y="85.7803">Servizio</text><!--entity apimessaggi--><rect fill="#FEFECE" height="50" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="379.5" y="218"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="397.5" y="246.7803">API Messaggi</text><!--entity dbmessaggi--><path d="M392.5,524 C392.5,514 441,514 441,514 C441,514 489.5,514 489.5,524 L489.5,563 C489.5,573 441,573 441,573 C441,573 392.5,573 392.5,563 L392.5,524 " fill="#FEFECE" style="stroke: #000000; stroke-width: 1.5;"/><path d="M392.5,524 C392.5,534 441,534 441,534 C441,534 489.5,534 489.5,524 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="410.5" y="556.7803">Messaggi</text><!--entity apipreferenze--><rect fill="#FEFECE" height="50" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="22" y="218"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="40" y="246.7803">API Preferenze</text><!--entity dbpreferenze--><path d="M35,524 C35,514 88,514 88,514 C88,514 141,514 141,524 L141,563 C141,573 88,573 88,573 C88,573 35,573 35,563 L35,524 " fill="#FEFECE" style="stroke: #000000; stroke-width: 1.5;"/><path d="M35,524 C35,534 88,534 88,534 C88,534 141,534 141,524 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="53" y="556.7803">Preferenze</text><!--entity backend--><rect fill="#FEFECE" height="50" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="650" y="218"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="668" y="246.7803">Backend APP</text><!--entity cittadino--><ellipse cx="963" cy="370" fill="#FEFECE" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M963,378 L963,405 M950,386 L976,386 M963,405 L950,420 M963,405 L976,420 " fill="#FEFECE" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="935" y="441.7803">Cittadino</text><!--entity app--><rect fill="#FEFECE" height="50" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="919.5" y="218"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="937.5" y="246.7803">APP CD</text><!--link ente to apimessaggi--><path d="M441,107.1562 C441,135.665 441,182.1227 441,212.6277 " fill="none" id="ente-apimessaggi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="441,217.7553,445,208.7553,441,212.7553,437,208.7553,441,217.7553" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="450" y="156.7803">(1) CF, messaggio</text><!--link apipreferenze to dbpreferenze--><path d="M88,273.144 C88,330.9019 88,456.5132 88,513.8677 " fill="none" id="apipreferenze-dbpreferenze" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="88,268.1036,84,277.1036,88,273.1036,92,277.1036,88,268.1036" style="stroke: #A80036; stroke-width: 1.0;"/><!--link apipreferenze to apimessaggi--><path d="M154.3966,243 C217.2386,243 311.0856,243 374.0944,243 " fill="none" id="apipreferenze-apimessaggi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="379.3339,243,370.3339,239,374.3339,243,370.3339,247,379.3339,243" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="180.25" y="227.7803">(2) email, casella messaggi</text><!--link apimessaggi to dbmessaggi--><path d="M441,268.1036 C441,321.7495 441,447.6466 441,508.8614 " fill="none" id="apimessaggi-dbmessaggi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="441,513.8677,445,504.8677,441,508.8677,437,504.8677,441,513.8677" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="450" y="403.2803">(3) messaggio,</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="472" y="417.2803">mittente</text><!--link app to backend--><path d="M913.7839,243 C873.2205,243 815.4966,243 772.0022,243 " fill="none" id="app-backend" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="919.1409,243,910.1409,239,914.1409,243,910.1409,247,919.1409,243" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="798.25" y="213.7803">(4) messaggio,</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="820.25" y="227.7803">mittente</text><!--link apimessaggi to backend--><path d="M502.605,243 C544.9307,243 601.0853,243 644.438,243 " fill="none" id="apimessaggi-backend" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="649.6596,243,640.6596,239,644.6596,243,640.6596,247,649.6596,243" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="528.75" y="213.7803">(5) messaggio,</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="550.75" y="227.7803">mittente</text><!--link app to cittadino--><path d="M963,268.1886 C963,291.1257 963,325.7148 963,354.5641 " fill="none" id="app-cittadino" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="963,359.8799,967,350.8799,963,354.8799,959,350.8799,963,359.8799" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18" x="972" y="317.7803">(6)</text><!--
@startuml
skinparamlocked shadowing false
skinparamlocked DefaultFontName Helvetica
skinparamlocked DefaultFontSize 14
skinparamlocked Padding 8

:Cittadino: as cittadino

agent "APP CD" as app

rectangle "Ente Erogatore" {
  agent "Servizio" as ente
}

rectangle "Cittadinanza Digitale" {
  agent "API Messaggi" as apimessaggi
  database "Messaggi" as dbmessaggi
  agent "API Preferenze" as apipreferenze
  database "Preferenze" as dbpreferenze
  agent "Backend APP" as backend
}

ente -down-> apimessaggi : (1) CF, messaggio

dbpreferenze -up-> apipreferenze
apipreferenze -> apimessaggi : (2) email, casella messaggi

apimessaggi -down-> dbmessaggi : (3) messaggio,\nmittente

app <- backend : "(4) messaggio,\nmittente"

apimessaggi -right-> backend : "(5) messaggio,\nmittente"

app -down-> cittadino : "(6)"

@enduml

PlantUML version 1.2018.00(Thu Jan 04 20:42:56 CET 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_66-b17
Operating System: Mac OS X
OS Version: 10.13.4
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>